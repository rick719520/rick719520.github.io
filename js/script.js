function safeExecute(t,e=()=>{}){try{return t()}catch(t){return console.error("执行脚本出错:",t),e()}}function initPageTransitions(){const t=document.getElementById("page-transition-overlay");t&&(setTimeout((function(){t.style.opacity="0"}),300),document.querySelectorAll("a").forEach((e=>{e.hostname!==window.location.hostname&&e.hostname||e.addEventListener("click",(function(o){const n=e.getAttribute("href");n&&n.startsWith("#")?console.log("跳過錨點鏈接:",n):e.closest(".toc-content")?console.log("跳過目錄鏈接"):!n||""===n||"#"===n||n.startsWith("javascript:")||n.startsWith("mailto:")||n.startsWith("tel:")||"_blank"===e.target||o.ctrlKey||o.metaKey||"true"!==e.dataset.navigating&&(e.dataset.navigating="true",o.preventDefault(),t.style.opacity="1",setTimeout((function(){window.location.href=n}),400),setTimeout((function(){"hidden"!==document.visibilityState&&(window.location.href=n)}),5e3))}))})))}function initFadeInAnimations(){const t=document.querySelectorAll(".fade-in");if(0===t.length)return;const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});t.forEach((t=>e.observe(t)))}function initMobileMenu(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu");t&&e&&t.addEventListener("click",(()=>{if("0px"===e.style.height||""===e.style.height){e.style.opacity="0",e.style.display="block";const t=e.scrollHeight+"px";e.style.height="0px",setTimeout((()=>{e.style.height=t,e.style.opacity="1"}),10)}else e.style.height="0px",e.style.opacity="0",setTimeout((()=>{e.style.display="none"}),300)}))}function initMiniSkillsChart(){const t=document.getElementById("mini-skills-chart");if(!t)return;const e=document.documentElement.getAttribute("data-theme")||"light",o=window.innerWidth<768,n=o?["Python","React","SQL","PyTorch","HF","LangChain"]:["Python","React","PostgreSQL","PyTorch","HuggingFace","LangChain"],r={backgroundColor:"dark"===e?"rgba(100, 116, 139, 0.25)":"rgba(100, 116, 139, 0.2)",borderColor:"dark"===e?"rgba(148, 163, 184, 0.8)":"rgba(100, 116, 139, 0.8)",pointBackgroundColor:"dark"===e?"rgba(148, 163, 184, 1)":"rgba(100, 116, 139, 1)",gridColor:"dark"===e?"rgba(148, 163, 184, 0.15)":"rgba(100, 116, 139, 0.2)",angleLineColor:"dark"===e?"rgba(148, 163, 184, 0.15)":"rgba(100, 116, 139, 0.2)",labelColor:getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()},i=t.getContext("2d"),a=new Chart(i,{type:"radar",data:{labels:n,datasets:[{label:"技能水平",data:[95,90,85,88,80,85],backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:2,pointBackgroundColor:r.pointBackgroundColor,pointBorderColor:"dark"===e?"#121212":"#fff",pointHoverBackgroundColor:"dark"===e?"#121212":"#fff",pointHoverBorderColor:r.pointBackgroundColor}]},options:{responsive:!0,maintainAspectRatio:!0,scales:{r:{angleLines:{color:r.angleLineColor},grid:{color:r.gridColor},ticks:{backdropColor:"transparent",display:!1,stepSize:20},pointLabels:{font:{size:o?10:11,family:"'Noto Sans SC', sans-serif"},color:r.labelColor,padding:o?2:5,centerPointLabels:!1},suggestedMin:50,suggestedMax:100}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return t.raw+"%"},title:function(t){if(o){return["Python","React","PostgreSQL","PyTorch","HuggingFace","LangChain"][t[0].dataIndex]}return t[0].label}},backgroundColor:"dark"===e?"rgba(15, 23, 42, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:r.labelColor,bodyColor:r.labelColor,borderColor:r.borderColor,borderWidth:1}}}});window.addEventListener("resize",(function(){const t=window.innerWidth<768;t!==o&&(a.data.labels=t?["Python","React","SQL","PyTorch","HF","LangChain"]:["Python","React","PostgreSQL","PyTorch","HuggingFace","LangChain"],a.options.scales.r.pointLabels.font.size=t?10:11,a.options.scales.r.pointLabels.padding=t?2:5,a.update())})),document.addEventListener("themeChanged",(function(t){const e=t.detail.theme,o={backgroundColor:"dark"===e?"rgba(100, 116, 139, 0.25)":"rgba(100, 116, 139, 0.2)",borderColor:"dark"===e?"rgba(148, 163, 184, 0.8)":"rgba(100, 116, 139, 0.8)",pointBackgroundColor:"dark"===e?"rgba(148, 163, 184, 1)":"rgba(100, 116, 139, 1)",gridColor:"dark"===e?"rgba(148, 163, 184, 0.15)":"rgba(100, 116, 139, 0.2)",angleLineColor:"dark"===e?"rgba(148, 163, 184, 0.15)":"rgba(100, 116, 139, 0.2)",labelColor:getComputedStyle(document.documentElement).getPropertyValue("--text-primary").trim()};a.data.datasets[0].backgroundColor=o.backgroundColor,a.data.datasets[0].borderColor=o.borderColor,a.data.datasets[0].pointBackgroundColor=o.pointBackgroundColor,a.data.datasets[0].pointBorderColor="dark"===e?"#121212":"#fff",a.data.datasets[0].pointHoverBackgroundColor="dark"===e?"#121212":"#fff",a.options.scales.r.angleLines.color=o.angleLineColor,a.options.scales.r.grid.color=o.gridColor,a.options.scales.r.pointLabels.color=o.labelColor,a.options.plugins.tooltip.backgroundColor="dark"===e?"rgba(15, 23, 42, 0.8)":"rgba(255, 255, 255, 0.8)",a.options.plugins.tooltip.titleColor=o.labelColor,a.options.plugins.tooltip.bodyColor=o.labelColor,a.update()}))}function initLightningEffect(){if(!document.getElementById("lightning-container"))return;const t=document.querySelectorAll(".lightning-path");function e(){const e=Math.floor(Math.random()*t.length),o=t[e];o.style.stroke="rgba(255, 255, 255, 0.9)",o.style.opacity="1",setTimeout((()=>{o.style.opacity="0.7",setTimeout((()=>{o.style.opacity="0.9",setTimeout((()=>{o.style.opacity="0",o.style.stroke="rgba(255, 255, 255, 0)"}),80)}),50)}),80)}0!==t.length&&function t(){const o=15e3*Math.random()+5e3;setTimeout((()=>{e(),Math.random()<.3&&setTimeout(e,300),t()}),o)}()}function initTocNavigation(){const t=document.querySelectorAll(".article-toc-link");if(0!==t.length&&(t.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const o=this.getAttribute("href"),n=o.substring(1),r=decodeURIComponent(n);let i=document.getElementById(r);if(i||(i=document.getElementById(n)),i){const e=document.querySelector("nav").offsetHeight,n=i.getBoundingClientRect().top+window.pageYOffset-e-20;window.scrollTo({top:n,behavior:"smooth"}),history.pushState(null,null,o),t.forEach((t=>t.classList.remove("active"))),this.classList.add("active")}}))})),window.location.hash)){const t=window.location.hash.substring(1),e=document.getElementById(t);e&&setTimeout((()=>{const t=document.querySelector("nav").offsetHeight,o=e.getBoundingClientRect().top+window.pageYOffset-t-20;window.scrollTo({top:o,behavior:"smooth"})}),200)}}document.addEventListener("DOMContentLoaded",(function(){safeExecute(initFadeInAnimations),safeExecute(initMobileMenu),safeExecute(initLightningEffect),safeExecute(initPageTransitions),safeExecute(initTocNavigation)})),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".fade-in");function e(){t.forEach((t=>{const e=t.getBoundingClientRect(),o=Math.max(document.documentElement.clientHeight,window.innerHeight);e.top<=.85*o&&t.classList.add("visible")}))}e(),window.addEventListener("scroll",e)})),document.addEventListener("DOMContentLoaded",(function(){function t(){document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px")}t(),window.addEventListener("resize",t)}));